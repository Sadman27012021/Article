import{s as R,n as $,o as T,r as F}from"../chunks/scheduler.XrIoRwzV.js";import{S as U,i as D,m,g as d,d as c,n as K,e as _,t as M,c as h,a as y,b as O,l as u,h as p,j,s as I,f as L,p as k,q as v,r as z,k as Y,u as E,o as N,v as G,w as H,x as J,y as Q,z as V}from"../chunks/index.ST5S3DPj.js";import{P as W}from"../chunks/public.p0geILBg.js";import{e as B}from"../chunks/each.6w4Ej4nR.js";import{a as X,d as C,c as Z,o as x,q as ee,g as te}from"../chunks/firebase.jHORW_KV.js";function S(r,l,a){const e=r.slice();return e[4]=l[a],e}function q(r){let l,a=r[4].heading+"",e,n;return{c(){l=_("a"),e=M(a),this.h()},l(t){l=h(t,"A",{href:!0});var o=y(l);e=O(o,a),o.forEach(c),this.h()},h(){u(l,"href",n="/admin/"+r[4].email+","+r[4].heading)},m(t,o){d(t,l,o),p(l,e)},p(t,o){o&1&&a!==(a=t[4].heading+"")&&j(e,a),o&1&&n!==(n="/admin/"+t[4].email+","+t[4].heading)&&u(l,"href",n)},d(t){t&&c(l)}}}function w(r){let l,a=r[4].confirmed!==!0&&q(r);return{c(){a&&a.c(),l=m()},l(e){a&&a.l(e),l=m()},m(e,n){a&&a.m(e,n),d(e,l,n)},p(e,n){e[4].confirmed!==!0?a?a.p(e,n):(a=q(e),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},d(e){e&&c(l),a&&a.d(e)}}}function ae(r){let l,a=B(r[0]),e=[];for(let n=0;n<a.length;n+=1)e[n]=w(S(r,a,n));return{c(){for(let n=0;n<e.length;n+=1)e[n].c();l=m()},l(n){for(let t=0;t<e.length;t+=1)e[t].l(n);l=m()},m(n,t){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(n,t);d(n,l,t)},p(n,[t]){if(t&1){a=B(n[0]);let o;for(o=0;o<a.length;o+=1){const i=S(n,a,o);e[o]?e[o].p(i,t):(e[o]=w(i),e[o].c(),e[o].m(l.parentNode,l))}for(;o<e.length;o+=1)e[o].d(1);e.length=a.length}},i:$,o:$,d(n){n&&c(l),K(e,n)}}}function ne(r,l,a){const e=X(C,"ref","colRef");let n=[],{data:t=[]}=l;async function o(){try{const i=await te(e);i.exists()&&(n=i.data().array)}catch(i){console.error("Error fetching document:",i)}}return T(async()=>{await o();for(let i of n){let g=Z(C,i);x(ee(g),f=>{f.docs.forEach(s=>{(s.data().heading!==void 0||s.data().confirmation!==void 0)&&a(0,t=[...t,{email:i,heading:s.data().heading,confirmed:s.data().confirmed}]),console.log(t)})})}}),r.$$set=i=>{"data"in i&&a(0,t=i.data)},[t]}class le extends U{constructor(l){super(),D(this,l,ne,ae,R,{data:0})}}function A(r){let l,a,e,n,t,o="Submit",i,g;return{c(){l=_("form"),a=_("label"),e=_("input"),n=I(),t=_("button"),t.textContent=o,this.h()},l(f){l=h(f,"FORM",{});var s=y(l);a=h(s,"LABEL",{});var b=y(a);e=h(b,"INPUT",{type:!0,placeholder:!0}),n=L(b),t=h(b,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Y(t)!=="svelte-1ho0bhh"&&(t.textContent=o),b.forEach(c),s.forEach(c),this.h()},h(){u(e,"type","text"),u(e,"placeholder","Key"),u(t,"type","button"),u(t,"class","submitBtn")},m(f,s){d(f,l,s),p(l,a),p(a,e),E(e,r[2]),p(a,n),p(a,t),i||(g=[N(e,"input",r[4]),N(t,"click",r[3])],i=!0)},p(f,s){s&4&&e.value!==f[2]&&E(e,f[2])},d(f){f&&c(l),i=!1,F(g)}}}function P(r){let l,a;return l=new le({}),{c(){G(l.$$.fragment)},l(e){H(l.$$.fragment,e)},m(e,n){J(l,e,n),a=!0},i(e){a||(k(l.$$.fragment,e),a=!0)},o(e){v(l.$$.fragment,e),a=!1},d(e){Q(l,e)}}}function oe(r){let l,a,e,n=r[0]&&A(r),t=r[1]&&P();return{c(){n&&n.c(),l=I(),t&&t.c(),a=m()},l(o){n&&n.l(o),l=L(o),t&&t.l(o),a=m()},m(o,i){n&&n.m(o,i),d(o,l,i),t&&t.m(o,i),d(o,a,i),e=!0},p(o,[i]){o[0]?n?n.p(o,i):(n=A(o),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null),o[1]?t?i&2&&k(t,1):(t=P(),t.c(),k(t,1),t.m(a.parentNode,a)):t&&(V(),v(t,1,1,()=>{t=null}),z())},i(o){e||(k(t),e=!0)},o(o){v(t),e=!1},d(o){o&&(c(l),c(a)),n&&n.d(o),t&&t.d(o)}}}function ie(r,l,a){let e=!0,n=!1,t="";function o(){t==W?(a(0,e=!1),a(1,n=!0)):console.log("False")}function i(){t=this.value,a(2,t)}return[e,n,t,o,i]}class me extends U{constructor(l){super(),D(this,l,ie,oe,R,{})}}export{me as component};
