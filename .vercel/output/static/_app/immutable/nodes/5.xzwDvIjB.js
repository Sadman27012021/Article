import{s as q,n as u,o as I}from"../chunks/scheduler.XrIoRwzV.js";import{S,i as D,m,g as h,d as c,n as N,e as p,t as R,s as x,c as g,a as v,b as A,f as M,l as y,h as _,j as V,v as j,w as C,x as P,p as U,q as z,y as B}from"../chunks/index.ST5S3DPj.js";import{e as b}from"../chunks/each.6w4Ej4nR.js";import{a as F,d as $,c as G,o as H,q as J,g as K}from"../chunks/firebase.jHORW_KV.js";function k(s,n,t){const e=s.slice();return e[4]=n[t],e}function w(s){let n,t,e=s[4].heading+"",a,o,i;return{c(){n=p("div"),t=p("a"),a=R(e),i=x(),this.h()},l(r){n=g(r,"DIV",{});var l=v(n);t=g(l,"A",{href:!0});var f=v(t);a=A(f,e),f.forEach(c),i=M(l),l.forEach(c),this.h()},h(){y(t,"href",o="/articles/"+s[4].email+"/"+s[4].heading)},m(r,l){h(r,n,l),_(n,t),_(t,a),_(n,i)},p(r,l){l&1&&e!==(e=r[4].heading+"")&&V(a,e),l&1&&o!==(o="/articles/"+r[4].email+"/"+r[4].heading)&&y(t,"href",o)},d(r){r&&c(n)}}}function E(s){let n,t=s[4].confirmed==!0&&w(s);return{c(){t&&t.c(),n=m()},l(e){t&&t.l(e),n=m()},m(e,a){t&&t.m(e,a),h(e,n,a)},p(e,a){e[4].confirmed==!0?t?t.p(e,a):(t=w(e),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},d(e){e&&c(n),t&&t.d(e)}}}function L(s){let n,t=b(s[0]),e=[];for(let a=0;a<t.length;a+=1)e[a]=E(k(s,t,a));return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=m()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);n=m()},m(a,o){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(a,o);h(a,n,o)},p(a,[o]){if(o&1){t=b(a[0]);let i;for(i=0;i<t.length;i+=1){const r=k(a,t,i);e[i]?e[i].p(r,o):(e[i]=E(r),e[i].c(),e[i].m(n.parentNode,n))}for(;i<e.length;i+=1)e[i].d(1);e.length=t.length}},i:u,o:u,d(a){a&&c(n),N(e,a)}}}function O(s,n,t){const e=F($,"ref","colRef");let a=[],{data:o=[]}=n;async function i(){try{const r=await K(e);r.exists()&&(a=r.data().array)}catch(r){console.error("Error fetching document:",r)}}return I(async()=>{await i();for(let r of a){let l=G($,r);H(J(l),f=>{f.docs.forEach(d=>{(d.data().heading!==void 0||d.data().confirmation!==void 0)&&t(0,o=[...o,{email:r,heading:d.data().heading,confirmed:d.data().confirmed}]),console.log(o)})})}}),s.$$set=r=>{"data"in r&&t(0,o=r.data)},[o]}class Q extends S{constructor(n){super(),D(this,n,O,L,q,{data:0})}}function T(s){let n,t,e;return t=new Q({}),{c(){n=p("main"),j(t.$$.fragment)},l(a){n=g(a,"MAIN",{});var o=v(n);C(t.$$.fragment,o),o.forEach(c)},m(a,o){h(a,n,o),P(t,n,null),e=!0},p:u,i(a){e||(U(t.$$.fragment,a),e=!0)},o(a){z(t.$$.fragment,a),e=!1},d(a){a&&c(n),B(t)}}}class ee extends S{constructor(n){super(),D(this,n,null,T,q,{})}}export{ee as component};
